<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="company">

    <!-- 전체목록 조회 -->
	<select id="company_list" resultType="vo.CompanyVo">
	    select * from company order by idx
	</select>
	
	<select id="company_one" resultType="vo.CompanyVo"
		parameterType="String">
		select * from company where name = #{ name }
	</select>
	
	<insert id="company_insert" parameterType="vo.CompanyVo">
		insert into company values(
			seq_company_idx.nextVal,
			#{ name },
			#{ parent_idx },
			'' <!-- #{ description } 우선 공백으로 둠 -->
		)		 
	</insert>
	
	<update id="company_update" parameterType="vo.CompanyVo">
		update company set 
		<if test="name != null">		
			name = #{ name },
		</if>
		<if test="parent_idx != null">
			parent_idx = #{ parent_idx },
		</if>
		<if test="description != null">
			description = #{ description }
		</if>
			where idx = #{ idx }
	</update>
    
</mapper>












